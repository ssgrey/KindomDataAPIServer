<dx:ThemedWindow
    x:Class="KindomDataAPIServer.Views.SyncKindomDataView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
    xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"
    xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
    xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
    xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
    x:Name="root" Closed="root_Closed"  Icon="/datapool.ico"
    Title="Kingdom Data Synchronization" Height="800" Width="1000" >
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="80"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <GroupBox Header="Kindom Data" Margin="2" IsEnabled="{Binding IsEnable}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <StackPanel Orientation="Vertical" Margin="0,0,0,0" Height="Auto" HorizontalAlignment="Left">
                    <StackPanel.Resources>
                        <Style TargetType="StackPanel">
                            <Setter Property="Height" Value="30"></Setter>
                        </Style>
                    </StackPanel.Resources>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top" >
                        <Label Content="Project Path" Width="80"></Label>
                        <dxe:ButtonEdit  Text="{Binding ProjectPath}" IsReadOnly="True" Width="180" Height="24" DefaultButtonClick="{DXEvent 'BrowseProjectPath()'}" ></dxe:ButtonEdit>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" >
                        <Label Content="User" Width="80"></Label>
                        <dxe:ComboBoxEdit Width="180" Height="23"  EditValue="{Binding LoginName,UpdateSourceTrigger=PropertyChanged}" ItemsSource="{Binding Authors}"  IsTextEditable="False"></dxe:ComboBoxEdit>
                        <dx:SimpleButton Content="Login" Height="23" Command="{Binding LoginCommand}"  Margin="5,0,0,0"></dx:SimpleButton>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top" >
                        <Label Content="DB Username" Width="80"></Label>
                        <dxe:TextEdit  Text="{Binding DBUserName,UpdateSourceTrigger=PropertyChanged}" NullText="can be empty"  Width="180" Height="24" ></dxe:TextEdit>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top" >
                        <Label Content="DB Password" Width="80"></Label>
                        <dxe:PasswordBoxEdit  Text="{Binding DBPassword,UpdateSourceTrigger=PropertyChanged}" NullText="can be empty"  Width="180" Height="24" ></dxe:PasswordBoxEdit>
                    </StackPanel>
                </StackPanel>
                <Grid Grid.Row="1" x:Name="dataGrid" DataContext="{Binding KindomData}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <GroupBox Padding="0" Margin="0,0,5,0">
                        <GroupBox.Header>
                            <Label Content="Wells" FontWeight="Bold" Width="Auto"/>
                        </GroupBox.Header>
                        <dxg:GridControl  x:Name="gridControlWellTraj" Margin="0"  SelectionMode="Row" 
                                          ItemsSource="{Binding Wells}"  ShowBorder="True" AllowInitiallyFocusedRow="True"  >
                            <dxg:GridControl.Columns>
                                <dxg:GridColumn  Width="27"  AllowColumnFiltering="False" >
                                    <dxg:GridColumn.HeaderTemplate>
                                        <DataTemplate>
                                            <CheckBox HorizontalAlignment="Center" IsChecked="{Binding ElementName=dataGrid,Path=DataContext.AllWellsChecked, Mode=TwoWay}"></CheckBox>
                                        </DataTemplate>
                                    </dxg:GridColumn.HeaderTemplate>
                                    <dxg:GridColumn.CellTemplate>
                                        <DataTemplate>
                                            <CheckBox HorizontalAlignment="Center" IsChecked="{Binding RowData.Row.IsChecked}"></CheckBox>
                                        </DataTemplate>
                                    </dxg:GridColumn.CellTemplate>
                                </dxg:GridColumn>
                                <dxg:GridColumn FieldName="Uwi" Width="*"  Header="Uwi"  AllowColumnFiltering="False" AllowEditing="False">
                                </dxg:GridColumn>
                                <dxg:GridColumn FieldName="BoreholeName" Width="*"  Header="BoreholeName"  AllowColumnFiltering="False" AllowEditing="False">
                                </dxg:GridColumn>
                                <dxg:GridColumn FieldName="WellName" Width="*"  Header="WellName"  AllowColumnFiltering="False" AllowEditing="False">
                                </dxg:GridColumn>
                                <dxg:GridColumn FieldName="WellNumber" Width="*"  Header="WellNumber"  AllowColumnFiltering="False" AllowEditing="False">
                                </dxg:GridColumn>
                            </dxg:GridControl.Columns>
                            <dxg:GridControl.View>
                                <dxg:TableView VerticalScrollbarVisibility="Auto" HorizontalScrollbarVisibility="Auto" ShowIndicator="False" 
                                   RowMinHeight="25"  ShowFilterPanelMode="Never"
                                  NavigationStyle="Row"  
                                  ShowGroupPanel="False"  AllowSorting="False"  AllowColumnMoving="False">
                                </dxg:TableView>
                            </dxg:GridControl.View>
                        </dxg:GridControl>
                    </GroupBox>

                    <GroupBox Grid.Column="1" Padding="0" Margin="0,0,5,0">
                        <GroupBox.Header>
                            <Label Content="Logcurves" FontWeight="Bold" Width="Auto"/>
                        </GroupBox.Header>
                        <dxg:GridControl  x:Name="gridWellLog" Margin="0"  SelectionMode="Row" 
                                     ItemsSource="{Binding LogNames}"  ShowBorder="True" AllowInitiallyFocusedRow="True">
                            <dxg:GridControl.Columns>
                                <dxg:GridColumn  Width="27"  AllowColumnFiltering="False" >
                                    <dxg:GridColumn.HeaderTemplate>
                                        <DataTemplate>
                                            <CheckBox HorizontalAlignment="Center" IsChecked="{Binding ElementName=dataGrid,Path=DataContext.AllWellLogsChecked, Mode=TwoWay}"></CheckBox>
                                        </DataTemplate>
                                    </dxg:GridColumn.HeaderTemplate>
                                    <dxg:GridColumn.CellTemplate>
                                        <DataTemplate>
                                            <CheckBox HorizontalAlignment="Center" IsChecked="{Binding RowData.Row.IsChecked}"></CheckBox>
                                        </DataTemplate>
                                    </dxg:GridColumn.CellTemplate>
                                </dxg:GridColumn>
                                <dxg:GridColumn FieldName="Name" Width="*"  Header="Name"  AllowColumnFiltering="False" AllowEditing="False">
                                </dxg:GridColumn>
                            </dxg:GridControl.Columns>
                            <dxg:GridControl.View>
                                <dxg:TableView VerticalScrollbarVisibility="Auto" HorizontalScrollbarVisibility="Auto" ShowIndicator="False" 
                                   RowMinHeight="25"  ShowFilterPanelMode="Never"
                                  NavigationStyle="Row"  
                                  ShowGroupPanel="False"  AllowSorting="False"  AllowColumnMoving="False">
                                </dxg:TableView>
                            </dxg:GridControl.View>
                        </dxg:GridControl>
                    </GroupBox>

                    <GroupBox Grid.Column="2" Padding="0" Margin="0,0,5,0">
                        <GroupBox.Header>
                            <Label Content="Formations" FontWeight="Bold" Width="Auto"/>
                        </GroupBox.Header>
                        <dxg:GridControl  x:Name="gridFormation" Margin="0"  SelectionMode="Row" 
                                     ItemsSource="{Binding FormationNames}"  ShowBorder="True" AllowInitiallyFocusedRow="True"  >
                            <dxg:GridControl.Columns>
                                <dxg:GridColumn  Width="27"  AllowColumnFiltering="False" >
                                    <dxg:GridColumn.HeaderTemplate>
                                        <DataTemplate>
                                            <CheckBox HorizontalAlignment="Center" IsChecked="{Binding ElementName=dataGrid,Path=DataContext.AllWellFormationChecked, Mode=TwoWay}"></CheckBox>
                                        </DataTemplate>
                                    </dxg:GridColumn.HeaderTemplate>
                                    <dxg:GridColumn.CellTemplate>
                                        <DataTemplate>
                                            <CheckBox HorizontalAlignment="Center" IsChecked="{Binding RowData.Row.IsChecked}"></CheckBox>
                                        </DataTemplate>
                                    </dxg:GridColumn.CellTemplate>
                                </dxg:GridColumn>
                                <dxg:GridColumn FieldName="Name" Width="*"  Header="Name"  AllowColumnFiltering="False" AllowEditing="False">
                                </dxg:GridColumn>
                            </dxg:GridControl.Columns>
                            <dxg:GridControl.View>
                                <dxg:TableView VerticalScrollbarVisibility="Auto" HorizontalScrollbarVisibility="Auto" ShowIndicator="False" 
                                   RowMinHeight="25"  ShowFilterPanelMode="Never"
                                  NavigationStyle="Row"  
                                  ShowGroupPanel="False"  AllowSorting="False"  AllowColumnMoving="False">
                                </dxg:TableView>
                            </dxg:GridControl.View>
                        </dxg:GridControl>
                    </GroupBox>
                </Grid>
            </Grid>
        </GroupBox>
        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <dx:SimpleButton Content="Synchronize" IsEnabled="{Binding IsEnable}" Width="100" Height="30" Margin="10,10,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Command="{Binding SyncCommand}"></dx:SimpleButton>
            <dxe:ProgressBarEdit Grid.Row="1" x:Name="progressBar"  Margin="10,5,10,10"
                Height="20"  ContentDisplayMode="Value"  IsPercent="False"  DisplayFormatString=" {0:f0}%"
                HorizontalAlignment="Stretch" 
                VerticalAlignment="Center"              
                Minimum="0" 
                Maximum="100"   Value="{Binding ProgressValue}"/>

        </Grid>

        <Expander
            Grid.Row="2"
            Grid.Column="0" Grid.ColumnSpan="2"
            Padding="5"
            BorderBrush="Black"
            BorderThickness="1"
            ExpandDirection="Up"
            Header="Log"
            IsExpanded="False">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="auto" MinHeight="100" />
                </Grid.RowDefinitions>
                <GridSplitter
                    Grid.Row="0"
                    Height="0"
                    HorizontalAlignment="Stretch"
                    DragDelta="OnDragDeta"
                    ResizeBehavior="CurrentAndNext"
                    ResizeDirection="Rows" />
                <RichTextBox
                    x:Name="logger"
                    Grid.Row="1"
                    Height="100"
                    MinHeight="100"
                    AcceptsReturn="True"
                    Background="Transparent"
                    FontFamily="Consolas"
                    IsReadOnly="True"
                    AcceptsTab="True"
                    VerticalScrollBarVisibility="Visible">
                    <RichTextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Click="Logger_Clean" Header="Clear" />
                        </ContextMenu>
                    </RichTextBox.ContextMenu>
                    <FlowDocument LineHeight="1" />
                </RichTextBox>
            </Grid>
        </Expander>
    </Grid>
</dx:ThemedWindow>
